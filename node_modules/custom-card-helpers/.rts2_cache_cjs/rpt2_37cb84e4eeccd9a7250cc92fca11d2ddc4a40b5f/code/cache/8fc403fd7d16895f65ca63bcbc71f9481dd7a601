{"code":"import { fireEvent } from \"./fire-event\";\r\nexport const createThing = cardConfig => {\r\n    const _createError = (error, config) => {\r\n        return _createThing(\"hui-error-card\", {\r\n            type: \"error\",\r\n            error,\r\n            config\r\n        });\r\n    };\r\n    const _createThing = (tag, config) => {\r\n        const element = window.document.createElement(tag);\r\n        try {\r\n            element.setConfig(config);\r\n        }\r\n        catch (err) {\r\n            console.error(tag, err);\r\n            return _createError(err.message, config);\r\n        }\r\n        return element;\r\n    };\r\n    if (!cardConfig ||\r\n        typeof cardConfig !== \"object\" ||\r\n        !cardConfig.type ||\r\n        !cardConfig.type.startsWith(\"custom:\"))\r\n        return _createError(\"No type configured\", cardConfig);\r\n    const tag = cardConfig.type.substr(\"custom:\".length);\r\n    if (customElements.get(tag))\r\n        return _createThing(tag, cardConfig);\r\n    // If element doesn't exist (yet) create an error\r\n    const element = _createError(`Custom element doesn't exist: ${cardConfig.type}.`, cardConfig);\r\n    element.style.display = \"None\";\r\n    const timer = setTimeout(() => {\r\n        element.style.display = \"\";\r\n    }, 2000);\r\n    // Remove error if element is defined later\r\n    customElements.whenDefined(cardConfig.type).then(() => {\r\n        clearTimeout(timer);\r\n        fireEvent(element, \"ll-rebuild\", {}, element);\r\n    });\r\n    return element;\r\n};\r\n//# sourceMappingURL=create-thing.js.map","map":"{\"version\":3,\"file\":\"create-thing.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/create-thing.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,cAAc,CAAC;AAEzC,MAAM,CAAC,MAAM,WAAW,GAAG,UAAU,CAAC,EAAE;IACtC,MAAM,YAAY,GAAG,CAAC,KAAK,EAAE,MAAM,EAAE,EAAE;QACrC,OAAO,YAAY,CAAC,gBAAgB,EAAE;YACpC,IAAI,EAAE,OAAO;YACb,KAAK;YACL,MAAM;SACP,CAAC,CAAC;IACL,CAAC,CAAC;IAEF,MAAM,YAAY,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE;QACnC,MAAM,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACnD,IAAI;YACF,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAC3B;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACxB,OAAO,YAAY,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;SAC1C;QACD,OAAO,OAAO,CAAC;IACjB,CAAC,CAAC;IAEF,IACE,CAAC,UAAU;QACX,OAAO,UAAU,KAAK,QAAQ;QAC9B,CAAC,UAAU,CAAC,IAAI;QAChB,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;QAEtC,OAAO,YAAY,CAAC,oBAAoB,EAAE,UAAU,CAAC,CAAC;IAExD,MAAM,GAAG,GAAG,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAErD,IAAI,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC;QAAE,OAAO,YAAY,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;IAElE,iDAAiD;IACjD,MAAM,OAAO,GAAG,YAAY,CAC1B,iCAAiC,UAAU,CAAC,IAAI,GAAG,EACnD,UAAU,CACX,CAAC;IACF,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;IAC/B,MAAM,KAAK,GAAG,UAAU,CAAC,GAAG,EAAE;QAC5B,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;IAC7B,CAAC,EAAE,IAAI,CAAC,CAAC;IACT,2CAA2C;IAC3C,cAAc,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;QACpD,YAAY,CAAC,KAAK,CAAC,CAAC;QACpB,SAAS,CAAC,OAAO,EAAE,YAAY,EAAE,EAAE,EAAE,OAAO,CAAC,CAAC;IAChD,CAAC,CAAC,CAAC;IAEH,OAAO,OAAO,CAAC;AACjB,CAAC,CAAC\"}","dts":{"name":"/home/iantrich/projects/hass/cards/custom-card-helpers/create-thing.d.ts","writeByteOrderMark":false,"text":"export declare const createThing: (cardConfig: any) => any;\r\n"}}
