{"code":"import { fireEvent } from \"./fire-event\";\r\nimport { forwardHaptic } from \"./haptic\";\r\nimport { navigate } from \"./navigate\";\r\nimport { toggleEntity } from \"./toggle-entity\";\r\nexport const handleClick = (node, hass, config, hold, dblClick) => {\r\n    let actionConfig;\r\n    if (dblClick && config.dbltap_action) {\r\n        actionConfig = config.dbltap_action;\r\n    }\r\n    else if (hold && config.hold_action) {\r\n        actionConfig = config.hold_action;\r\n    }\r\n    else if (!hold && config.tap_action) {\r\n        actionConfig = config.tap_action;\r\n    }\r\n    if (!actionConfig) {\r\n        actionConfig = {\r\n            action: \"more-info\"\r\n        };\r\n    }\r\n    switch (actionConfig.action) {\r\n        case \"more-info\":\r\n            if (config.entity || config.camera_image) {\r\n                fireEvent(node, \"hass-more-info\", {\r\n                    entityId: actionConfig.entity\r\n                        ? actionConfig.entity\r\n                        : config.entity\r\n                            ? config.entity\r\n                            : config.camera_image\r\n                });\r\n                if (actionConfig.haptic)\r\n                    forwardHaptic(node, actionConfig.haptic);\r\n            }\r\n            break;\r\n        case \"navigate\":\r\n            if (actionConfig.navigation_path) {\r\n                navigate(node, actionConfig.navigation_path);\r\n                if (actionConfig.haptic)\r\n                    forwardHaptic(node, actionConfig.haptic);\r\n            }\r\n            break;\r\n        case \"url\":\r\n            actionConfig.url && window.open(actionConfig.url);\r\n            if (actionConfig.haptic)\r\n                forwardHaptic(node, actionConfig.haptic);\r\n            break;\r\n        case \"toggle\":\r\n            if (config.entity) {\r\n                toggleEntity(hass, config.entity);\r\n                if (actionConfig.haptic)\r\n                    forwardHaptic(node, actionConfig.haptic);\r\n            }\r\n            break;\r\n        case \"call-service\": {\r\n            if (!actionConfig.service) {\r\n                return;\r\n            }\r\n            const [domain, service] = actionConfig.service.split(\".\", 2);\r\n            hass.callService(domain, service, actionConfig.service_data);\r\n            if (actionConfig.haptic)\r\n                forwardHaptic(node, actionConfig.haptic);\r\n        }\r\n    }\r\n};\r\n//# sourceMappingURL=handle-click.js.map","map":"{\"version\":3,\"file\":\"handle-click.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/handle-click.ts\"],\"names\":[],\"mappings\":\"AACA,OAAO,EAAE,SAAS,EAAE,MAAM,cAAc,CAAC;AACzC,OAAO,EAAE,aAAa,EAAE,MAAM,UAAU,CAAC;AACzC,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AACtC,OAAO,EAAE,YAAY,EAAE,MAAM,iBAAiB,CAAC;AAE/C,MAAM,CAAC,MAAM,WAAW,GAAG,CACzB,IAAiB,EACjB,IAAmB,EACnB,MAMC,EACD,IAAa,EACb,QAAiB,EACX,EAAE;IACR,IAAI,YAAsC,CAAC;IAE3C,IAAI,QAAQ,IAAI,MAAM,CAAC,aAAa,EAAE;QACpC,YAAY,GAAG,MAAM,CAAC,aAAa,CAAC;KACrC;SAAM,IAAI,IAAI,IAAI,MAAM,CAAC,WAAW,EAAE;QACrC,YAAY,GAAG,MAAM,CAAC,WAAW,CAAC;KACnC;SAAM,IAAI,CAAC,IAAI,IAAI,MAAM,CAAC,UAAU,EAAE;QACrC,YAAY,GAAG,MAAM,CAAC,UAAU,CAAC;KAClC;IAED,IAAI,CAAC,YAAY,EAAE;QACjB,YAAY,GAAG;YACb,MAAM,EAAE,WAAW;SACpB,CAAC;KACH;IAED,QAAQ,YAAY,CAAC,MAAM,EAAE;QAC3B,KAAK,WAAW;YACd,IAAI,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,YAAY,EAAE;gBACxC,SAAS,CAAC,IAAI,EAAE,gBAAgB,EAAE;oBAChC,QAAQ,EAAE,YAAY,CAAC,MAAM;wBAC3B,CAAC,CAAC,YAAY,CAAC,MAAM;wBACrB,CAAC,CAAC,MAAM,CAAC,MAAM;4BACf,CAAC,CAAC,MAAM,CAAC,MAAM;4BACf,CAAC,CAAC,MAAM,CAAC,YAAY;iBACxB,CAAC,CAAC;gBACH,IAAI,YAAY,CAAC,MAAM;oBAAE,aAAa,CAAC,IAAI,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;aACnE;YACD,MAAM;QACR,KAAK,UAAU;YACb,IAAI,YAAY,CAAC,eAAe,EAAE;gBAChC,QAAQ,CAAC,IAAI,EAAE,YAAY,CAAC,eAAe,CAAC,CAAC;gBAC7C,IAAI,YAAY,CAAC,MAAM;oBAAE,aAAa,CAAC,IAAI,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;aACnE;YACD,MAAM;QACR,KAAK,KAAK;YACR,YAAY,CAAC,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAClD,IAAI,YAAY,CAAC,MAAM;gBAAE,aAAa,CAAC,IAAI,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;YAClE,MAAM;QACR,KAAK,QAAQ;YACX,IAAI,MAAM,CAAC,MAAM,EAAE;gBACjB,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,MAAO,CAAC,CAAC;gBACnC,IAAI,YAAY,CAAC,MAAM;oBAAE,aAAa,CAAC,IAAI,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;aACnE;YACD,MAAM;QACR,KAAK,cAAc,CAAC,CAAC;YACnB,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE;gBACzB,OAAO;aACR;YACD,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC,GAAG,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YAC7D,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,OAAO,EAAE,YAAY,CAAC,YAAY,CAAC,CAAC;YAC7D,IAAI,YAAY,CAAC,MAAM;gBAAE,aAAa,CAAC,IAAI,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;SACnE;KACF;AACH,CAAC,CAAC\"}","dts":{"name":"/home/iantrich/projects/hass/cards/custom-card-helpers/handle-click.d.ts","writeByteOrderMark":false,"text":"import { HomeAssistant, ActionConfig } from \"./types\";\r\nexport declare const handleClick: (node: HTMLElement, hass: HomeAssistant, config: {\r\n    entity?: string;\r\n    camera_image?: string;\r\n    hold_action?: ActionConfig;\r\n    tap_action?: ActionConfig;\r\n    dbltap_action?: ActionConfig;\r\n}, hold: boolean, dblClick: boolean) => void;\r\n"}}
